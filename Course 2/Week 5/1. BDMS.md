# Big Data Management: The 'M' in DBMS:

**No need to refer slides for this**
- When should we use Hadoop or Yarn style system and when should we use a DBS that can perform parallel operations?
- How state of the art big data systems address the issues of volume and variety

## DBMS based and Non-DBMS based approaches to Big Data:

> Side: 2 contrasting approaches to handle high volume data? - Stream data processing and batch data processing.

- Storing Data - Files vs DBMS:
  - Earlier, Databases were designed as a set of application programs.
  - They were written to handle data in file residing in file systems.
  - Problems:
      1. Data Redundancy, inconsistency and isolation
      2. Each Task(query) needed to be written as a seperate program (Hence data access and data update were 2 seperate programs)
      3. Data Integrity - Tedious to implement integrity constraints as it needs to be a part of the application code, making it difficult to later change because of the searching of the code in the application program code.
      4. Atomicity of updates:
          - System Failures
          - Atomicity means that all of the changes that needs to be done to these promotions need to happen together as a single unit. Either fully go thru or not go thru at all.
          - Atomicity is difficult to handle when the data resides in one or more files.
  - Advantages of DBMS:
      - Declarative query languages
        - stating what we want to retrieve without telling how to retrieve
        - No more task based programs
      - Data Independence
        - Applications dont worry about data storage,formats and locations
        - Goal of data independence is to isolate the users from the record layout as long as the logical definition of the data which means the tables and their attributes are clearly specified.
        - Efficient access through optimization
          - They system automatically finds an efficient way to access data (answering query) .
        - Data Integrity and security
          - System failure and malicious access can be prevented
          - Underappreciated factor of dbms: implementation of transaction safety and failure recovery
          - Methods to keep the accuracy and consistency of data despite Failures
            - ACID properties of transacitons
              - Atomicity
              - consistency - Any data in DBS must be valid according to all defined rules including constraints.
              - isolation - works on the Context of concurrency(Multiple data entries / updates at the same time) - it says that irrespective of the number of people accessing the system at the same time, transaction must be done as if serially.
              - Durability - Ensures that once transaction is committed it will remain so even in the event of power loss crashes or errors.  
            - Failure recovery
          - In Databases, a single logical operation on the data is called a transaction.
          - Transfering of funds (including debitting and crediting) is a **single** transaction
        - Concurrent access
          - Many users can sim. access data w/o conflict
      > **ACID part and the above** - Providing these capabilities is an important part of the M in DBMS.

## Parallel and Distributed DBMS

  - How tradditional databases handle large data volumes:
    - Parallel Database system
      - Ex: Parallel oracle, Parallel db2 or post sql XE
      - Tables spread across multiple machines and operations like seleciton and join use parallel algos.
      - Hence improve performance through parallel implementation
      - Often allows data replication and hence introduces data redundancy so that failure of one replica can be compensated by using another.
      - It further replicates in sync with each other and a query can be routed to any of the replicates.
      - This increases the number of sim. or concurrent queries that can be handled by the system.
    - Distributed database system
      - N/w of independently running dbms' which communicate with each other.
      - One component knows some part of the schema of its neighboring dbms and can pass the query or part of the query to the neihbour when needed.

## DBMS and MapReduce -style systems(MR style systems)
-  If DBMS' are so powerful, then why do we see the emergence of MR-style systems.
  - Started with different problem focus
    - DBMSs have effectively used parallelism, specifically parallel databases in addition to replication would also create partitions, so that different parts of a logical table can physically reside on different machines, then different parts of a query can access the partitions in parallel and speed up creative performance.
    - Now these algorithms not only improve the operating efficiency, but simultaneously optimize algorithms to take into account the communication cost(time needed to exchange data between machines).
    - However, classical parallel DBMSs did not take into account machine failure.
    - In contrast, **MR was orignally developed not for storage and retrieval but for distributive processing of large amounts of data**
    - **Its goal was** to support complex custom computations that coul dbe performed efficiently on many machines(Upto thousand).
    - Since MR implementations were done over Hadoop file systems, issues like node failure were automatically accounted for.
    - MR effectively used in complex applications like data mining or data clustering, typically requiring problem specific techniques.
    - Such algos are usually multistage(output of one is input to the next) which is difficult to implement in relational system.
    - Since these are genetic operations, many of them were designed to work with unstructured data like text and nonstandard data formats.
    -   |DBMS|MR style systems|
        |:--|:--|
        |Efficient storage, transactions and retrieval|Complex data processing over a cluster of machines|  
        |Data needs structure | Can work with unstructured and structured data|  

## Tension created by data management and processing analysis requirements:

- Data Loading
  - The application may require for the data to processed in a fixed time.
  - If size is big loading takes more time (if commercial Big data system, it takes less time but still too much for some applications).
- DBMS provides too much functionality
  - Some applications use only a few data management features.
  - For ex:
    - An operation that is simple enough to not use join for and the application doesn't require updating of its items.
    - In such cases DBMS is not a good option as it is a "READ-ONLY APPLICATION"
  - Tradeof for a simpler sysem that uses a cluster of machines w/o guarantees like DBMS provides.
- Combined transactional (DBMS Guarantees) and analytical capabilities:
  - Required for systems like Real-Time decision support.
    - It is a system that will accept real-time data like customer purchases on a newly released product will perform some statistical analysis, so that it can determine buying trends. And then decide whether in real-time, a discount can be offered to this customer now.

- These requirements are causing new innovation in BDMS.
- Solutions:
  - DBMS on HDFS: Some dbms allow users to flexibly use some aspects of the hadoop system.
  - A simple map reduce operation doesn't fulfill needs and hence more operations have been added
    - Ex: Spark - join, data grouping , map and reduce operations.
  - Streaming input to DBMS (using large distributed memory management operations)
    - Used by performing computations on the data as and when loaded and keeping the data in the system long enough for these computations to perform on it.
  - New parallel programming models for analytical computation within DBMS
    - Ex: Finding dense regions of graph.
